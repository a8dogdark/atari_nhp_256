mads 2.0.6 build 58 (28 Jan 17)
Source: C:\Users\dogdark\eclipse-workspace\myatari\prisma\nhp\nhp256\nhp256.asm
     1 				;	OPT NO LIST
     2 				;
     3 				; GRABADOR SISTEMA NHP VER 3.6
     4 				;
     5 				; SAVE #D8:GRABB
     6 				;
     7 				;
     8 				; ASM,,#D8:GRABB.COM
     9 				;
    10 = 2006			@LEN =  LEN+2
    11 = 2008			@LBAF = LEN+4
    12 = 2009			PPILA = LEN+5
    13 = 00CB			PCRSR = $CB
    14 = 00CB			ORG =   PCRSR
    15 = 0058			SVMSC = $58
    16 = 0054			POSXY = $54
    17 = 4000			LENGHT = $4000
    18 = 4000			BAFER = $4000
    19 = 00D4			FR0 =   $D4
    20 = 00F2			CIX =   $F2
    21 = D800			AFP =   $D800
    22 = D9AA			IFP =   $D9AA
    23 = D9D2			FPI =   $D9D2
    24 = D8E6			FASC =  $D8E6
    25 = DA44			ZFR0 =  $DA44
    26 = DB28			FDIV =  $DB28
    27 = DADB			FMUL =  $DADB
    28 = DDB6			FMOVE = $DDB6
    29 = 00F3			INBUFF = $F3
    30 = 0580			LBUFF = $0580
    31 = 02BA			LLOAD = PAG7-LOAD
    32 = 0079			LAUTO = PAG4-PAG7
    33 = 0000			BL4 =   LAUTO/128
    34 = 0079			LAST =  LAUTO-128*BL4
    35 = 0047			GENDAT = $47
    36 				;
    37 					ORG $2000
    38 FFFF> 2000-2D73> 00 00		.by 0,0
    39 2002			RY
    40 2002 00 00			.BY 0,0
    41 2004			LEN
    42 2004 00 00		    .BY 0,0
    43 2006			CONT
    44 2006 00 00		    .BY 0,0
    45 2008			STARTF
    46 2008 00 00		    .BY 0,0
    47 200A			FINISH
    48 200A 00 00		    .BY 0,0
    49 200C			@BL4
    50 200C 00			    .BY 0
    51 200D			?FILE
    52 200D 44 3A		    .BY 'D:'
    53 200F			??FILE
    54 200F 20 20 20 20 20 20 +     .BY '                    '
    55 2023			BBLQS
    56 2023 30 30 30 9B		    .BY "000",$9B
    57 2027			ALL
    58 2027 44 3A 2A 2E 2A 9B	    .BY 'D:*.*',$9B
    59 202D			DNHP
    60 202D 60 00 50 80		    .BY $60,$00,$50,$80
    61 2031 F1 2A		    .WO ??DIR
    62 2033 35 00		    .BY $35,$00
    63 2035 00 01		    .wo $0100
    64 2037 00 80		    .by $00,$80
    65 2039			BAKBYT
    66 2039 10 10 10 10 10	    .SB "00000"
    67 203E			BAKBLQ
    68 203E 10 10 10		    .SB "000"
    69 2041			RESTORE
    70 2041 A0 13		    LDY #$13
    71 2043			?RESTORE
    72 2043 A9 20		    LDA #$20
    73 2045 99 0F 20		    STA ??FILE,Y
    74 2048 A9 00		    LDA #$00
    75 204A 99 79 2A		    STA NAME,Y
    76 204D 99 92 2A		    STA FILE,Y
    77 2050 88				DEY
    78 2051 10 F0		    BPL ?RESTORE
    79 2053 A0 17		    LDY #$17
    80 2055			??RESTORE
    81 2055 A9 00		    LDA #$00
    82 2057 99 60 2A		    STA CRSR,Y
    83 205A 88			    DEY
    84 205B 10 F8		    BPL ??RESTORE
    85 205D A0 22		    LDY #$22
    86 205F			???RESTORE
    87 205F A9 00		    LDA #$00
    88 2061 99 92 2A		    STA FILE,Y
    89 2064 88			    DEY
    90 2065 10 F8		    BPL ???RESTORE
    91 2067 A9 3F		    LDA #$3F
    92 2069 8D 60 2A		    STA CRSR
    93 206C 8D 92 2A		    STA FILE
    94 206F A9 10		    LDA #$10
    95 2071 A0 04		    LDY #$04
    96 2073			RESNUM
    97 2073 99 C3 2A		    STA BYTES,Y
    98 2076 88			    DEY
    99 2077 10 FA		    BPL RESNUM
   100 2079 8D D8 2A		    STA BLOQUES
   101 207C 8D D9 2A		    STA BLOQUES+1
   102 207F 8D DA 2A		    STA BLOQUES+2
   103 2082 60			    RTS
   104 2083			PARCHE
   105 2083 E2 F9 80 F0 E1 F2 + 	.SB +128,"by parche negro soft"
   106 2097			ASCINT
   107 2097 C9 20		    CMP #$20
   108 2099 90 12		    BCC ADD64
   109 209B C9 60		    CMP #$60
   110 209D 90 13		    BCC SUB32
   111 209F C9 80		    CMP #$80
   112 20A1 90 12		    BCC REMAIN
   113 20A3 C9 A0		    CMP #$A0
   114 20A5 90 06		    BCC ADD64
   115 20A7 C9 E0		    CMP #$E0
   116 20A9 90 07		    BCC SUB32
   117 20AB B0 08		    BCS REMAIN
   118 20AD			ADD64
   119 20AD 18			    CLC
   120 20AE 69 40		    ADC #$40
   121 20B0 90 03		    BCC REMAIN
   122 20B2			SUB32
   123 20B2 38			    SEC
   124 20B3 E9 20		    SBC #$20
   125 20B5			REMAIN
   126 20B5 60			    RTS
   127 20B6			CLS
   128 20B6 A2 F1		    LDX # <??DIR
   129 20B8 A0 2A		    LDY # >??DIR
   130 20BA 86 CB		    STX PCRSR
   131 20BC 84 CC		    STY PCRSR+1
   132 20BE A0 00		    LDY #$00
   133 20C0 A2 00		    LDX #$00
   134 20C2			?CLS
   135 20C2 A9 00		    LDA #$00
   136 20C4 91 CB		    STA (PCRSR),Y
   137 20C6 C8			    INY
   138 20C7 D0 03		    BNE ??CLS
   139 20C9 E8			    INX
   140 20CA E6 CC		    INC PCRSR+1
   141 20CC			??CLS
   142 20CC C0 68		    CPY #$68	;$68
   143 20CE D0 F2		    BNE ?CLS
   144 20D0 E0 01		    CPX #$01
   145 20D2 D0 EE		    BNE ?CLS
   146 20D4 60			    RTS
   147 20D5			OPEN
   148 20D5 A2 10		    LDX #$10
   149 20D7 A9 03		    LDA #$03
   150 20D9 9D 42 03		    STA $0342,X
   151 20DC A9 0D		    LDA # <?FILE
   152 20DE 9D 44 03		    STA $0344,X
   153 20E1 A9 20		    LDA # >?FILE
   154 20E3 9D 45 03		    STA $0345,X
   155 20E6 A9 04		    LDA #$04
   156 20E8 9D 4A 03		    STA $034A,X
   157 20EB A9 80		    LDA #$80
   158 20ED 9D 4B 03		    STA $034B,X
   159 20F0 20 56 E4		    JSR $E456
   160 20F3 88			    DEY
   161 20F4 D0 0B		    BNE DIR
   162 20F6 60			    RTS
   163 20F7			CLOSE
   164 20F7 A2 10		    LDX #$10
   165 20F9 A9 0C		    LDA #$0C
   166 20FB 9D 42 03		    STA $0342,X
   167 20FE 4C 56 E4		    JMP $E456
   168 2101			DIR
   169 2101 20 F7 20		    JSR CLOSE
   170 2104 20 B6 20		    JSR CLS
   171 2107 A2 E9		    LDX # <?DIR
   172 2109 A0 29		    LDY # >?DIR
   173 210B 8E 30 02		    STX $0230
   174 210E 8C 31 02		    STY $0231
   175 2111 A2 F1		    LDX # <??DIR
   176 2113 A0 2A		    LDY # >??DIR
   177 2115 86 CB		    STX PCRSR
   178 2117 84 CC		    STY PCRSR+1
   179 2119 A2 10		    LDX #$10
   180 211B A9 03		    LDA #$03
   181 211D 9D 42 03		    STA $0342,X
   182 2120 A9 27		    LDA # <ALL
   183 2122 9D 44 03		    STA $0344,X
   184 2125 A9 20		    LDA # >ALL
   185 2127 9D 45 03		    STA $0345,X
   186 212A A9 06		    LDA #$06
   187 212C 9D 4A 03		    STA $034A,X
   188 212F A9 00		    LDA #$00
   189 2131 9D 4B 03		    STA $034B,X
   190 2134 20 56 E4		    JSR $E456
   191 2137 A9 07		    LDA #$07
   192 2139 9D 42 03		    STA $0342,X
   193 213C A9 00		    LDA #$00
   194 213E 9D 48 03		    STA $0348,X
   195 2141 9D 49 03		    STA $0349,X
   196 2144 8D 02 20		    STA RY
   197 2147 8D 03 20		    STA RY+1
   198 214A			LEDIR
   199 214A 20 56 E4		    JSR $E456
   200 214D 30 36		    BMI ?EXIT
   201 214F C9 9B		    CMP #155
   202 2151 F0 26		    BEQ EXIT
   203 2153 20 97 20		    JSR ASCINT
   204 2156 AC 02 20		    LDY RY
   205 2159 91 CB		    STA (PCRSR),Y
   206 215B EE 02 20		    INC RY
   207 215E D0 05		    BNE F0
   208 2160 E6 CC		    INC PCRSR+1
   209 2162 EE 03 20		    INC RY+1
   210 2165			F0
   211 2165 AC 03 20		    LDY RY+1
   212 2168 C0 01		    CPY #$01
   213 216A D0 0A		    BNE F1
   214 216C AC 02 20		    LDY RY
   215 216F C0 68		    CPY #$68	;$68
   216 2171 90 03		    BCC F1
   217 2173 20 93 21		    JSR PAUSE
   218 2176			F1
   219 2176 4C 4A 21		    JMP LEDIR
   220 2179			EXIT
   221 2179 EE 02 20		    INC RY
   222 217C EE 02 20		    INC RY
   223 217F EE 02 20		    INC RY
   224 2182 4C 4A 21		    JMP LEDIR
   225 2185			?EXIT
   226 2185 20 F7 20		    JSR CLOSE
   227 2188 20 93 21		    JSR PAUSE
   228 218B 20 B6 20		    JSR CLS
   229 218E 68			    PLA
   230 218F 68			    PLA
   231 2190 4C 9F 2C		    JMP START
   232 2193			PAUSE
   233 2193 AD 1F D0		    LDA 53279
   234 2196 C9 06		    CMP #$06
   235 2198 D0 F9		    BNE PAUSE
   236 219A 20 B6 20		    JSR CLS
   237 219D A9 00		    LDA #$00
   238 219F 8D 02 20		    STA RY
   239 21A2 8D 03 20		    STA RY+1
   240 21A5 A9 F1		    LDA # <??DIR
   241 21A7 85 CB		    STA PCRSR
   242 21A9 A9 2A		    LDA # >??DIR
   243 21AB 85 CC		    STA PCRSR+1
   244 21AD A2 10		    LDX #$10
   245 21AF 60			    RTS
   246 21B0			FLSH
   247 21B0 AC 02 20		    LDY RY
   248 21B3 B1 CB		    LDA (PCRSR),Y
   249 21B5 49 3F		    EOR #$3F
   250 21B7 91 CB		    STA (PCRSR),Y
   251 21B9 A9 10		    LDA #$10
   252 21BB 8D 1A 02		    STA $021A
   253 21BE 60			    RTS
   254 21BF			OPENK
   255 21BF A9 FF		    LDA #$FF
   256 21C1 8D FC 02		    STA 764
   257 21C4 A2 10		    LDX #$10
   258 21C6 A9 03		    LDA #$03
   259 21C8 9D 42 03		    STA $0342,X
   260 21CB 9D 45 03		    STA $0345,X
   261 21CE A9 26		    LDA #$26
   262 21D0 9D 44 03		    STA $0344,X
   263 21D3 A9 04		    LDA #$04
   264 21D5 9D 4A 03		    STA $034A,X
   265 21D8 20 56 E4		    JSR $E456
   266 21DB A9 07		    LDA #$07
   267 21DD 9D 42 03		    STA $0342,X
   268 21E0 A9 00		    LDA #$00
   269 21E2 9D 48 03		    STA $0348,X
   270 21E5 9D 49 03		    STA $0349,X
   271 21E8 8D 02 20		    STA RY
   272 21EB 60			    RTS
   273 21EC			RUTLEE
   274 21EC A2 B0		    LDX # <FLSH
   275 21EE A0 21		    LDY # >FLSH
   276 21F0 A9 10		    LDA #$10
   277 21F2 8E 28 02		    STX $0228
   278 21F5 8C 29 02		    STY $0229
   279 21F8 8D 1A 02		    STA $021A
   280 21FB 20 BF 21		    JSR OPENK
   281 21FE			GETEC
   282 21FE 20 56 E4		    JSR $E456
   283 2201 C9 7E		    CMP #$7E
   284 2203 D0 14		    BNE C0
   285 2205 AC 02 20		    LDY RY
   286 2208 F0 F4		    BEQ GETEC
   287 220A A9 00		    LDA #$00
   288 220C 91 CB		    STA (PCRSR),Y
   289 220E A9 3F		    LDA #$3F		;$3F
   290 2210 88			    DEY
   291 2211 91 CB		    STA (PCRSR),Y
   292 2213 CE 02 20		    DEC RY
   293 2216 4C FE 21		    JMP GETEC
   294 2219			C0
   295 2219 C9 9B		    CMP #$9B	;$9B
   296 221B F0 12		    BEQ C2
   297 221D 20 97 20		    JSR ASCINT
   298 2220 AC 02 20		    LDY RY
   299 2223 91 CB		    STA (PCRSR),Y
   300 2225 C0 14		    CPY #$14	;#14
   301 2227 F0 03		    BEQ C1
   302 2229 EE 02 20		    INC RY
   303 222C			C1
   304 222C 4C FE 21		    JMP GETEC
   305 222F			C2
   306 222F 20 F7 20		    JSR CLOSE
   307 2232 A9 00		    LDA #$00
   308 2234 8D 1A 02		    STA $021A
   309 2237 AC 02 20		    LDY RY
   310 223A 91 CB		    STA (PCRSR),Y
   311 223C 60			    RTS
   312 223D			FGET
   313 223D A9 00		    LDA #$00
   314 223F 8D 04 20		    STA LEN
   315 2242 8D 05 20		    STA LEN+1
   316 2245 A9 DD		    LDA #$DD
   317 2247 8D 01 D3		    STA $D301
   318 224A			LOPFGET
   319 224A A2 10		    LDX #$10
   320 224C A9 07		    LDA #$07
   321 224E 9D 42 03		    STA $0342,X
   322 2251 A9 00		    LDA # <BAFER
   323 2253 9D 44 03		    STA $0344,X
   324 2256 A9 40		    LDA # >BAFER
   325 2258 9D 45 03		    STA $0345,X
   326 225B A9 00		    LDA # <LENGHT
   327 225D 9D 48 03		    STA $0348,X
   328 2260 A9 40		    LDA # >LENGHT
   329 2262 9D 49 03		    STA $0349,X
   330 2265			??FGET
   331 2265 20 56 E4		    JSR $E456
   332 2268 BD 49 03		    LDA $0349,X
   333 226B C9 40		    CMP #>LENGHT
   334 226D D0 24		    BNE ?FGET
   335 226F BD 48 03		    LDA $0348,X
   336 2272 C9 00		    CMP #$00
   337 2274 D0 1D		    BNE ?FGET
   338 2276 18			    CLC
   339 2277 AD 01 D3		    LDA $D301
   340 227A 69 04		    ADC #$04
   341 227C 8D 01 D3		    STA $D301
   342 227F 18			    CLC
   343 2280 A9 00		    LDA #$00
   344 2282 6D 04 20		    ADC LEN
   345 2285 8D 04 20		    STA LEN
   346 2288 A9 40		    LDA #$40
   347 228A 6D 05 20		    ADC LEN+1
   348 228D 8D 05 20		    STA LEN+1
   349 2290 4C 65 22		    JMP ??FGET
   350 2293			?FGET
   351 2293 20 44 DA		    JSR ZFR0
   352 2296 A9 FC		    LDA #$FC	;$FC
   353 2298 85 D4		    STA FR0
   354 229A 20 AA D9		    JSR IFP
   355 229D 20 B6 DD		    JSR FMOVE
   356 22A0 A2 10		    LDX #$10
   357 22A2 18			    CLC
   358 22A3 BD 48 03		    LDA $0348,X
   359 22A6 6D 04 20		    ADC LEN
   360 22A9 8D 04 20		    STA LEN
   361 22AC 85 D4		    STA FR0
   362 22AE BD 49 03		    LDA $0349,X
   363 22B1 6D 05 20		    ADC LEN+1
   364 22B4 8D 05 20		    STA LEN+1
   365 22B7 85 D5		    STA FR0+1
   366 22B9 20 AA D9		    JSR IFP
   367 22BC 20 F7 22		    JSR PONBYTES
   368 22BF 20 28 DB		    JSR FDIV
   369 22C2 20 0F 23		    JSR PONBLOQUES
   370 22C5 20 D2 D9		    JSR FPI
   371 22C8 A5 D4		    LDA FR0
   372 22CA 48			    PHA
   373 22CB C6 D4		    DEC FR0
   374 22CD 20 AA D9		    JSR IFP
   375 22D0 20 B6 DD		    JSR FMOVE
   376 22D3 A9 FC		    LDA #$FC	;$FC
   377 22D5 85 D4		    STA FR0
   378 22D7 A9 00		    LDA #$00
   379 22D9 85 D5		    STA FR0+1
   380 22DB 20 AA D9		    JSR IFP
   381 22DE 20 DB DA		    JSR FMUL
   382 22E1 20 D2 D9		    JSR FPI
   383 22E4 38			    SEC
   384 22E5 AD 04 20		    LDA LEN
   385 22E8 E5 D4		    SBC FR0
   386 22EA 8D 07 20		    STA CONT+1
   387 22ED EE 07 20		    INC CONT+1
   388 22F0 68			    PLA
   389 22F1 8D 06 20		    STA CONT
   390 22F4 A2 10		    LDX #$10
   391 22F6 60			    RTS
   392 22F7			PONBYTES
   393 22F7 20 69 23		    JSR NBYTES
   394 22FA 8C 02 20		    STY RY
   395 22FD A0 04		    LDY #$04
   396 22FF			?PONBYTES
   397 22FF BD 80 05		    LDA LBUFF,X
   398 2302 29 5F		    AND #$5F
   399 2304 99 C3 2A		    STA BYTES,Y
   400 2307 88			    DEY
   401 2308 CA			    DEX
   402 2309 CE 02 20		    DEC RY
   403 230C 10 F1		    BPL ?PONBYTES
   404 230E 60			    RTS
   405 230F			PONBLOQUES
   406 230F 20 69 23		    JSR NBYTES
   407 2312 8C 02 20		    STY RY
   408 2315 A0 02		    LDY #$02
   409 2317			?PONBLOQUES
   410 2317 BD 80 05		    LDA LBUFF,X
   411 231A 29 5F		    AND #$5F
   412 231C 99 D8 2A		    STA BLOQUES,Y
   413 231F 88			    DEY
   414 2320 CA			    DEX
   415 2321 CE 02 20		    DEC RY
   416 2324 10 F1		    BPL ?PONBLOQUES
   417 2326 AD DA 2A		    LDA BLOQUES+2
   418 2329 C9 19		    CMP #$19
   419 232B F0 1F		    BEQ ??PP0
   420 232D EE DA 2A		    INC BLOQUES+2
   421 2330			PP0
   422 2330 A0 02		    LDY #$02
   423 2332			MVBLQ
   424 2332 B9 D8 2A		    LDA BLOQUES,Y
   425 2335 09 20		    ORA #$20
   426 2337 99 23 20		    STA BBLQS,Y
   427 233A 88			    DEY
   428 233B 10 F5		    BPL MVBLQ
   429 233D A2 23		    LDX # <BBLQS
   430 233F A0 20		    LDY # >BBLQS
   431 2341 A9 00		    LDA #$00
   432 2343 86 F3		    STX INBUFF
   433 2345 84 F4		    STY INBUFF+1
   434 2347 85 F2		    STA CIX
   435 2349 4C 00 D8		    JMP AFP
   436 234C			??PP0
   437 234C A9 10		    LDA #$10
   438 234E 8D DA 2A		    STA BLOQUES+2
   439 2351 AD D9 2A		    LDA BLOQUES+1
   440 2354 C9 19		    CMP #$19
   441 2356 F0 06		    BEQ ???PP0
   442 2358 EE D9 2A		    INC BLOQUES+1
   443 235B 4C 30 23		    JMP PP0
   444 235E			???PP0
   445 235E A9 10		    LDA #$10
   446 2360 8D D9 2A		    STA BLOQUES+1
   447 2363 EE D8 2A		    INC BLOQUES
   448 2366 4C 30 23		    JMP PP0
   449 2369			NBYTES
   450 2369 20 E6 D8		    JSR FASC
   451 236C A2 00		    LDX #$00
   452 236E A0 00		    LDY #$00
   453 2370 AD 80 05		    LDA LBUFF
   454 2373 C9 30		    CMP #$30	;'0
   455 2375 D0 01		    BNE PL0
   456 2377 E8			    INX
   457 2378			PL0
   458 2378 BD 80 05		    LDA LBUFF,X
   459 237B C9 80		    CMP #$80
   460 237D B0 09		    BCS PL1
   461 237F C9 2E		    CMP #$2E		;'.
   462 2381 F0 06		    BEQ PL2
   463 2383 E8			    INX
   464 2384 C8			    INY
   465 2385 4C 78 23		    JMP PL0
   466 2388			PL1
   467 2388 60			    RTS
   468 2389			PL2
   469 2389 CA				DEX
   470 238A BD 80 05		    LDA LBUFF,X
   471 238D 09 80		    ORA #$80
   472 238F 9D 80 05		    STA LBUFF,X
   473 2392 88			    DEY
   474 2393 60			    RTS
   475 				;************************************
   476 				; pagina load
   477 				;************************************
   478 2394			LOAD
   479 2394				ICL 'paginas/ploader.asm'
Source: C:\Users\dogdark\eclipse-workspace\myatari\prisma\nhp\nhp256\paginas\ploader.asm
     1 				;load_init =$CBFE
     2 = 06FE			pload_init =$6FE
     3 				;
     4 				;l_load = [.len loader]
     5
     6 2394			.proc	pload,pload_init
     7 = 095F			BAFER = $095F
     8 = 0800			BUFAUX = $0800
     9 				;?RUTINA = BUFAUX+JUMP-RUTINA
    10 				;
    11 06FE			INICIO
    12 06FE 55 55			.BYTE $55,$55
    13 0700 A2 00		    LDX #$00
    14 0702 9A			    TXS
    15 0703 8E 44 02		    STX $0244
    16 0706 E8			    INX
    17 0707 86 09		    STX $09
    18 0709 20 5F 09		    JSR RECUPERO
    19 070C 4C E6 08		    JMP START
    20 070F			NBYTES
    21 070F FC			    .BYTE 252   ;$FC
    22 0710			FLAGY
    23 0710 00			    .BYTE 0
    24 0711			FINISH
    25 0711 00 00		    .BYTE 0,0
    26 0713			MMMSIOV
    27 0713 60 00 52 40		    .BYTE $60,$00,$52,$40
    28 0717 5F 09		    .WORD BAFER
    29 0719 23 00		    .BYTE $23,$00
    30 071B 00 01		    .WORD $0100
    31 071D 00 80		    .BYTE $00,$80
    32 071F			DLIST
    33 071F 70 70 70 47		    .BYTE $70,$70,$70,$47
    34 0723 3E 07		    .WORD MENSAJE
    35 0725 70 02 70 02 70 70 +     .BYTE $70,$02,$70,$02,$70,$70,$70,$70
    36 072D 70 70 70 70 70 70 +     .BYTE $70,$70,$70,$70,$70,$70,$70,$70
    37 0735 70 46		    .BYTE $70,$46
    38 0737			DLERR
    39 0737 A2 07		    .WORD NAME
    40 0739 70 02 41		    .BYTE $70,$02,$41
    41 073C 1F 07		    .WORD DLIST
    42 073E			MENSAJE
    43 073E 00 00 00 00 00 00 +     .SB "       "
    44 0745 F0 F2 E9 F3 ED E1	    .SB +128,"prisma"
    45 074B 00 00 00 00 00 00 +     .SB "       "
    46 0752 00 00 00 00 30 32 +     .SB "    PROGRAMAS PARA M"
    47 0766 29 23 32 2F 23 2F +     .SB "ICROCOMPUTADORES    "
    48 077A 00 00 00 00 00 00 +     .SB "       ATARI CON SIS"
    49 078E 34 25 2D 21 00	    .SB "TEMA "
    50 0793 80 AE 8E A8 8E B0 +     .SB +128," N.H.P. "
    51 079B 00 00 00 00 00 00 +     .SB "       "
    52 07A2			NAME
    53 07A2 00 00 00 00 00 00 +     .SB "                    "
    54 07B6 00 00 00 00 00 23 +     .SB "     Cargara dentro de "
    55 07CD			CONTADOR
    56 07CD 00 00 00 00 22 6C +     .SB "    Bloques.     "
    57 07DE			DERR
    58 07DE 00 00 0D 00 00 25 +     .SB "  -  E R R O R  -   "
    59 07F2 00 32 65 74 72 6F +     .SB " Retroceda"
    60 07FC			MERR
    61 07FC 00 13 00 76 75 65 +    	.SB " 3 vueltas y presione "
    62 0812 80 B3 B4 A1 B2 B4 +    	.SB +128," START "
    63 0819 00			   	.SB " "
    64 081A			NEWDL
    65 081A A2 1F		    LDX # <DLIST
    66 081C A0 07		    LDY # >DLIST
    67 081E AD C8 02		    LDA $02C8
    68 0821 8E 30 02		    STX $0230
    69 0824 8E 02 D4		    STX $D402
    70 0827 8C 31 02		    STY $0231
    71 082A 8C 03 D4		    STY $D403
    72 082D 8D C6 02		    STA $02C6
    73 0830 8D 18 D0		    STA $D018
    74 0833 60			    RTS
    75 0834			ERROR
    76 0834 A9 3C		    LDA #$3C
    77 0836 8D 02 D3		    STA $D302
    78 0839 A9 FD		    LDA #$FD
    79 083B 20 B0 F2		    JSR $F2B0
    80 083E 20 1A 08		    JSR NEWDL
    81 0841 A2 DE		    LDX #<DERR
    82 0843 A0 07		    LDY #>DERR
    83 0845 8E 37 07		    STX DLERR
    84 0848 8C 38 07		    STY DLERR+1
    85 084B			VUELTA
    86 084B AD 1F D0		    LDA 53279
    87 084E C9 06		    CMP #$06
    88 0850 D0 F9		    BNE VUELTA
    89 0852 20 62 08		    JSR SEARCH
    90 0855 A2 A2		    LDX #<NAME
    91 0857 A0 07		    LDY #>NAME
    92 0859 8E 37 07		    STX DLERR
    93 085C 8C 38 07		    STY DLERR+1
    94 085F 4C 90 08		    JMP GRAB
    95 0862			SEARCH
    96 0862 A9 34		    LDA #$34
    97 0864 8D 02 D3		    STA $D302
    98 0867 A2 10		    LDX #$10
    99 0869 8E 1C 02		    STX $021C
   100 086C			SPEED
   101 086C AE 1C 02		    LDX $021C
   102 086F D0 FB		    BNE SPEED
   103 0871			SIGUE
   104 0871 A2 FD		    LDX #$FD
   105 0873 86 14		    STX $14
   106 0875			BUSCA
   107 0875 AD 0F D2		    LDA $D20F
   108 0878 29 10		    AND #$10
   109 087A F0 F5		    BEQ SIGUE
   110 087C A6 14		    LDX $14
   111 087E D0 F5		    BNE BUSCA
   112 0880 60			    RTS
   113 0881			GBYTE
   114 0881 CC 0F 07		    CPY NBYTES
   115 0884 F0 0A		    BEQ GRAB
   116 0886 98			    TYA
   117 0887 59 62 09		    EOR BAFER+3,Y
   118 088A 45 47		    EOR GENDAT
   119 088C E6 47		    INC GENDAT
   120 088E C8			    INY
   121 088F 60			    RTS
   122 0890			GRAB
   123 0890 AD 0B D4		    LDA $D40B
   124 0893 D0 FB		    BNE GRAB
   125 0895 AD 54 09		    LDA PFIN
   126 0898 F0 41		    BEQ BYE
   127 089A			?GRAB
   128 089A A2 0B		    LDX #$0B
   129 089C			MSIO
   130 089C BD 13 07		    LDA MMMSIOV,X
   131 089F 9D 00 03		    STA $0300,X
   132 08A2 CA			    DEX
   133 08A3 10 F7		    BPL MSIO
   134 08A5 20 59 E4		    JSR $E459
   135 08A8 30 8A		    BMI ERROR
   136 08AA AD 61 09		    LDA BAFER+2
   137 08AD CD 54 09		    CMP PFIN
   138 08B0 90 82		    BCC ERROR
   139 08B2 F0 03		    BEQ RETURN
   140 08B4 4C 9A 08		    JMP ?GRAB
   141 08B7			RETURN
   142 08B7 AD 5E 0A		    LDA BAFER+255
   143 08BA 8D 0F 07		    STA NBYTES
   144 08BD A2 02		    LDX #$02
   145 08BF			C01
   146 08BF BD CD 07		    LDA CONTADOR,X
   147 08C2 C9 10		    CMP #$10
   148 08C4 D0 08		    BNE C02
   149 08C6 A9 19		    LDA #$19
   150 08C8 9D CD 07		    STA CONTADOR,X
   151 08CB CA			    DEX
   152 08CC 10 F1		    BPL C01
   153 08CE			C02
   154 08CE DE CD 07		    DEC CONTADOR,X
   155 08D1 CE 54 09		    DEC PFIN
   156 08D4 A0 00		    LDY #$00
   157 08D6 84 4D		    STY 77
   158 08D8 4C 81 08		    JMP GBYTE
   159 08DB			BYE
   160 08DB A2 00		    LDX #$00
   161 08DD 9A			    TXS
   162 08DE A9 3C		    LDA #$3C
   163 08E0 8D 02 D3		    STA $D302
   164 08E3 6C E0 02		    JMP ($02E0)
   165 08E6			START
   166 08E6 AC 0F 07		    LDY NBYTES
   167 08E9			LOOP
   168 08E9 20 81 08		    JSR GBYTE
   169 08EC 8D 0C 09		    STA MEMORY+1
   170 08EF 20 81 08		    JSR GBYTE
   171 08F2 8D 0D 09		    STA MEMORY+2
   172 08F5 2D 0C 09		    AND MEMORY+1
   173 08F8 C9 FF		    CMP #$FF
   174 08FA F0 ED		    BEQ LOOP
   175 08FC 20 81 08		    JSR GBYTE
   176 08FF 8D 11 07		    STA FINISH
   177 0902 20 81 08		    JSR GBYTE
   178 0905 8D 12 07		    STA FINISH+1
   179 0908			MBTM
   180 0908 20 81 08		    JSR GBYTE
   181 090B			MEMORY
   182 090B 8D FF FF		    STA $FFFF
   183 090E AD 0C 09		    LDA MEMORY+1
   184 0911 CD 11 07		    CMP FINISH
   185 0914 D0 08		    BNE OK
   186 0916 AD 0D 09		    LDA MEMORY+2
   187 0919 CD 12 07		    CMP FINISH+1
   188 091C F0 0B		    BEQ VERFIN
   189 091E			OK
   190 091E EE 0C 09		    INC MEMORY+1
   191 0921 D0 03		    BNE NIM
   192 0923 EE 0D 09		    INC MEMORY+2
   193 0926			NIM
   194 0926 4C 08 09		    JMP MBTM
   195 0929			VERFIN
   196 0929 AD E2 02		    LDA $02E2
   197 092C 0D E3 02		    ORA $02E3
   198 092F F0 B8		    BEQ LOOP
   199 0931 A2 F0		    LDX #$F0
   200 0933 9A			    TXS
   201 0934 8C 10 07		    STY FLAGY
   202 0937 20 4C 09		    JSR RUTINA
   203 093A 20 62 08		    JSR SEARCH
   204 093D AC 10 07		    LDY FLAGY
   205 0940 A2 00		    LDX #$00
   206 0942 9A			    TXS
   207 0943 8E E2 02		    STX $02E2
   208 0946 8E E3 02		    STX $02E3
   209 0949 4C E9 08		    JMP LOOP
   210 094C			RUTINA
   211 094C A9 3C		    LDA #$3C
   212 094E 8D 02 D3		    STA $D302
   213 0951 6C E2 02		    JMP ($02E2)
   214 0954			PFIN
   215 0954 00 00 00 00 00 00 +     .BYTE $00,$00,$00,$00,$00,$00,$00,$00
   216 095C 00 00 00		    .BYTE $00,$00,$00
   217 095F			RECUPERO
   218 095F A2 0B		    LDX #$0B
   219 0961			RECUPERO2
   220 0961 BD AC 09		    LDA FINRECUPERO,X
   221 0964 9D 00 03		    STA $0300,X
   222 0967 CA			    DEX
   223 0968 10 F7		    BPL RECUPERO2
   224 096A 20 59 E4		    JSR $E459
   225 096D 10 03		    BPL RECUPERO3
   226 096F 4C 77 E4		    JMP $E477
   227 0972			RECUPERO3
   228 0972 A2 13		    LDX #$13
   229 0974			RECUPERO4
   230 0974 BD AE 09		    LDA FINRECUPERO+2,X
   231 0977 9D A2 07		    STA NAME,X
   232 097A CA			    DEX
   233 097B 10 F7		    BPL RECUPERO4
   234 097D A2 02		    LDX #$02
   235 097F			RECUPERO5
   236 097F BD C2 09		    LDA FINRECUPERO+22,X
   237 0982 9D CD 07		    STA CONTADOR,X
   238 0985 CA			    DEX
   239 0986 10 F7		    BPL RECUPERO5
   240 0988 A2 03		    LDX #$03
   241 098A A0 22		    LDY #$22
   242 098C AD C5 09		    LDA FINRECUPERO+25
   243 098F 86 41		    STX $41
   244 0991 8C 2F 02		    STY $022F
   245 0994 8C 00 D4		    STY $D400
   246 0997 8D 54 09		    STA PFIN
   247 099A A2 00		    LDX #$00
   248 099C 8A			    TXA
   249 099D			RECUPERO6
   250 099D 9D 00 04		    STA $0400,X
   251 09A0 E8			    INX
   252 09A1 10 FA		    BPL RECUPERO6
   253 09A3 8D FE 06		    STA INICIO
   254 09A6 8D FF 06		    STA INICIO+1
   255 09A9 4C 1A 08		    JMP NEWDL
   256 09AC			FINRECUPERO
   257 09AC 60 00 52 40		    .BYTE $60,$00,$52,$40
   258 09B0 AC 09		    .WORD FINRECUPERO
   259 09B2 23 00		    .BYTE $23,$00
   260 09B4 1A 00		    .WORD $001A
   261 09B6 00 80		    .BYTE $00,$80
   262 				.endp
   480 				;************************************
   481 				; pagina pag7
   482 				;************************************
   483 264E			PAG7
   484 264E				ICL 'paginas/p7.asm'
Source: C:\Users\dogdark\eclipse-workspace\myatari\prisma\nhp\nhp256\paginas\p7.asm
     1 				;load_init =$CBFE
     2 = 2000			p7_init =$2000
     3 				;
     4 				;l_load = [.len loader]
     5
     6 264E			.proc	p7,p7_init
     7 2000			INICIO
     8 2000 00 01			.BY $00,$01
     9 2002 00 20 6A 20			.WO INICIO,FINAL
    10 2006 AE 30 02			LDX $0230
    11 2009 AC 31 02			LDY $0231
    12 200C 8E FC BF			STX $bffc
    13 200F 8C FD BF			STY $bffd
    14 2012 A2 42			LDX #<DLS
    15 2014 A0 20			LDY #>DLS
    16 2016 A9 00			LDA #$00
    17 2018 8E 30 02			STX $0230
    18 201B 8E 02 D4			STX $D402
    19 201E 8C 31 02			STY $0231
    20 2021 8C 03 D4			STY $D403
    21 2024 85 41			STA $41
    22 2026 4C 00 04			JMP $0400
    23 2029 A0 A0 D0 EF F2 A0 + 	.BY +128,'  Por Parche Negro Soft  '
    24 2042			DLS
    25 2042 70 70 70 70 70 70 + :14	.BY $70
    26 2050 47				.BY $47
    27 2051 56 20			.WO SHOW
    28 2053 41				.BY $41
    29 2054 42 20			.WO DLS
    30 2056			SHOW
    31 2056 00 00 0D 0D 00 00 + 	.SB "  --   PRISMA   --  "
    32 206A			FINAL
    33 206A AE FC BF			LDX $BFFC
    34 206D AC FD BF			LDY $BFFD
    35 2070 8E 30 02			STX $0230
    36 2073 8C 31 02			STY $0231
    37 2076 6C 04 03			JMP ($0304)
    38 				.endp
   485 				;************************************
   486 				; pagina pag4
   487 				;************************************
   488 26C7			PAG4
   489 26C7				ICL 'paginas/p4.asm'
Source: C:\Users\dogdark\eclipse-workspace\myatari\prisma\nhp\nhp256\paginas\p4.asm
     1 = 03FD			p4_init =$03FD
     2 				;
     3 26C7			.proc	p4,p4_init
     4 				;
     5 = 0047			GENDAT = $47
     6 03FD 55 55 FE			.BYTE $55,$55,$FE
     7 0400 AD 01 D3		    LDA $D301
     8 0403 29 02		    AND #$02
     9 0405 F0 17		    BEQ ERROR
    10 0407 AD 64 04		    LDA $0464
    11 040A 85 47		    STA GENDAT
    12 040C A2 0B		    LDX #$0B
    13 040E			MOVE
    14 040E BD 58 04		    LDA SIOV,X
    15 0411 9D 00 03		    STA $0300,X
    16 0414 CA			    DEX
    17 0415 10 F7		    BPL MOVE
    18 0417 20 59 E4		    JSR $E459
    19 041A 30 02		    BMI ERROR
    20 041C 18			    CLC
    21 041D 60			    RTS
    22 041E			ERROR
    23 041E AE FC BF		    LDX $BFFC
    24 0421 AC FD BF		    LDY $BFFD
    25 0424 8E 30 02		    STX $0230
    26 0427 8C 31 02		    STY $0231
    27 042A A0 00		    LDY #$00
    28 042C			LER
    29 042C B9 3D 04		    LDA TABLA,Y
    30 042F 91 58		    STA ($58),Y
    31 0431 C8			    INY
    32 0432 C0 1B		    CPY #$1B
    33 0434 D0 F6		    BNE LER
    34 0436 A9 3C		    LDA #$3C
    35 0438 8D 02 D3		    STA $D302
    36 043B			LOOP
    37 043B D0 FE		    BNE LOOP
    38 043D			TABLA
    39 043D A5 B2 B2 AF B2 80 +     .SB +128,"ERROR !!!"
    40 0446 00 23 21 32 27 35	    .SB " CARGU"
    41 044C 25 00 2E 35 25 36	    .SB "E NUEV"
    42 0452 21 2D 25 2E 34 25	    .SB "AMENTE"
    43 0458			SIOV
    44 0458 60 00 52 40		    .BYTE $60,$00,$52,$40
    45 045C FE 06		    .WORD $06FE
    46 045E 23 00		    .BYTE $23,$00
    47 0460 BA 02		    .WORD $02BA
    48 0462 00 80		    .BYTE $00,$80
    49 0464			FIN
    50 				.endp
   490 272E			@GENDAT
   491 272E 00				.BYTE 0
   492 272F			ESPSIO
   493 272F 55 55			.BYTE $55,$55
   494 2731			NME
   495 2731 2E 2E 2E 2E 2E 2E + 	.BYTE '....................'
   496 2745			BLQ
   497 2745 2E 2E 2E			.BYTE '...'
   498 2748			PFIN
   499 2748 00				.BYTE 0
   500 2749			ESIO
   501 2749 60 00 50 80			.BYTE $60,$00,$50,$80
   502 274D 2F 27		    .WORD ESPSIO
   503 274F 23 00		    .BYTE $23,$00
   504 2751 1A 00		    .WORD 26
   505 2753 00 80		    .BYTE $00,$80
   506 2755			OPENC
   507 2755 AD 0B D4			LDA $D40B
   508 2758 D0 FB		    BNE OPENC
   509 275A A9 FF		    LDA #$FF
   510 275C 8D FC 02		    STA 764		;$02FC
   511 275F			?OPENC
   512 275F AD FC 02		    LDA $02FC
   513 2762 C9 FF		    CMP #$FF
   514 2764 F0 F9		    BEQ ?OPENC
   515 2766 A9 FF		    LDA #$FF
   516 2768 8D FC 02		    STA $02FC
   517 276B 4C 40 FD		    JMP $FD40
   518 276E			PONDATA
   519 276E A0 02			LDY #$02
   520 2770			??PONDATA
   521 2770 B9 D8 2A		    LDA BLOQUES,Y
   522 2773 99 45 27		    STA BLQ,Y
   523 2776 88			    DEY
   524 2777 10 F7		    BPL ??PONDATA
   525 2779 A0 13		    LDY #$13
   526 277B			?PONDATA
   527 277B B9 79 2A			LDA NAME,Y
   528 277E 99 31 27			STA NME,Y
   529 2781 88				DEY
   530 2782 10 F7			BPL ?PONDATA   
   531 2784 60			    RTS
   532 2785			INITSIOV
   533 2785 A0 0B		    LDY #$0B
   534 2787			?INITSIOV
   535 2787 B9 2D 20		    LDA DNHP,Y
   536 278A 99 00 03		    STA $0300,Y
   537 278D 88			    DEY
   538 278E 10 F7		    BPL ?INITSIOV
   539 2790 A9 00		    LDA #$00
   540 2792 85 4D		    STA 77		;$4D
   541 2794 60			    RTS
   542 2795			AUTORUN
   543 2795 A2 4E		    LDX # <PAG7
   544 2797 A0 26		    LDY # >PAG7
   545 2799 A9 00		    LDA #$00
   546 279B 8E E2 27		    STX MVPG7+1
   547 279E 8C E3 27		    STY MVPG7+2
   548 27A1 8D 0C 20		    STA @BL4
   549 27A4			FALTA
   550 27A4 20 85 27		    JSR INITSIOV
   551 27A7 A2 F1		    LDX #<??DIR
   552 27A9 A0 2A		    LDY #>??DIR
   553 27AB 8E 04 03		    STX $0304
   554 27AE 8C 05 03		    STY $0305
   555 27B1 A2 83		    LDX #131	; $83
   556 27B3 A0 00		    LDY #$00	; $00
   557 27B5 8E 08 03		    STX $0308
   558 27B8 8C 09 03		    STY $0309
   559 27BB A0 00		    LDY #$00
   560 27BD 98			    TYA
   561 27BE			CLBUF
   562 27BE 99 F1 2A		    STA ??DIR,Y
   563 27C1 C8			    INY
   564 27C2 C0 83		    CPY #131	;$83
   565 27C4 D0 F8		    BNE CLBUF
   566 27C6 A9 55		    LDA #$55
   567 27C8 8D F1 2A		    STA ??DIR
   568 27CB 8D F2 2A		    STA ??DIR+1
   569 27CE A2 FC		    LDX #$FC
   570 27D0 A0 7F		    LDY #127	;$7F
   571 27D2 CE 0C 20		    DEC @BL4
   572 27D5 10 07		    BPL NOFIN
   573 27D7 A2 FA		    LDX #$FA
   574 27D9 A0 79		    LDY #LAST
   575 27DB 8C 73 2B		    STY ??DIR+130
   576 27DE			NOFIN
   577 27DE 8E F3 2A		    STX ??DIR+2
   578 27E1			MVPG7
   579 27E1 B9 4E 26		    LDA PAG7,Y
   580 27E4 99 F4 2A		    STA ??DIR+3,Y
   581 27E7 88			    DEY
   582 27E8 10 F7		    BPL MVPG7
   583 27EA 20 59 E4		    JSR $E459
   584 27ED 18			    CLC
   585 27EE AD E2 27		    LDA MVPG7+1
   586 27F1 69 80		    ADC #$80
   587 27F3 8D E2 27		    STA MVPG7+1
   588 27F6 AD E3 27		    LDA MVPG7+2
   589 27F9 69 00		    ADC #$00
   590 27FB 8D E3 27		    STA MVPG7+2
   591 27FE AD 0C 20		    LDA @BL4
   592 2801 10 A1		    BPL FALTA
   593 2803 60			    RTS
   594 2804			GAUTO
   595 2804 AD 0A D2			LDA $D20A
   596 2807 85 47			STA GENDAT
   597 2809 8D 2E 27			STA @GENDAT
   598 280C 20 95 27		    JSR AUTORUN
   599 280F 20 85 27		    JSR INITSIOV
   600 2812 A2 83		    LDX # <131
   601 2814 A0 00		    LDY # >131
   602 2816 8E 08 03		    STX $0308
   603 2819 8C 09 03		    STY $0309
   604 281C A2 C7		    LDX # <PAG4
   605 281E A0 26		    LDY # >PAG4
   606 2820 8E 04 03		    STX $0304
   607 2823 8C 05 03		    STY $0305
   608 2826 20 59 E4		    JSR $E459
   609 2829 20 85 27		    JSR INITSIOV
   610 282C A2 BA		    LDX #$BA
   611 282E A0 02		    LDY #$02
   612 2830 8E 08 03		    STX $0308
   613 2833 8C 09 03		    STY $0309
   614 2836 A2 94		    LDX # <LOAD
   615 2838 A0 23		    LDY # >LOAD
   616 283A 8E 04 03		    STX $0304
   617 283D 8C 05 03		    STY $0305
   618 2840 20 59 E4		    JSR $E459
   619 2843 60			    RTS
   620 2844			REST
   621 2844 A0 04		    LDY #$04
   622 2846			??REST
   623 2846 B9 C3 2A		    LDA BYTES,Y
   624 2849 99 39 20		    STA BAKBYT,Y
   625 284C 88			    DEY
   626 284D 10 F7		    BPL ??REST
   627 284F A0 02		    LDY #$02
   628 2851			???REST
   629 2851 B9 D8 2A		    LDA BLOQUES,Y
   630 2854 99 3E 20		    STA BAKBLQ,Y
   631 2857 88			    DEY
   632 2858 10 F7		    BPL ???REST
   633 285A 60			    RTS
   634 285B			?REST
   635 285B A0 04		    LDY #$04
   636 285D			????REST
   637 285D B9 39 20		    LDA BAKBYT,Y
   638 2860 99 C3 2A		    STA BYTES,Y
   639 2863 88			    DEY
   640 2864 10 F7		    BPL ????REST
   641 2866 A0 02		    LDY #$02
   642 2868			?????REST
   643 2868 B9 3E 20		    LDA BAKBLQ,Y
   644 286B 99 D8 2A		    STA BLOQUES,Y
   645 286E 88			    DEY
   646 286F 10 F7		    BPL ?????REST
   647 2871 AD 06 20		    LDA CONT
   648 2874 8D 48 27		    STA PFIN
   649 2877 60			    RTS
   650 2878			SAVESIO
   651 2878 A2 0B		    LDX #$0B
   652 287A			?SAVESIO
   653 287A BD 49 27			LDA ESIO,X
   654 287D 9D 00 03		    STA $0300,X
   655 2880 CA			    DEX
   656 2881 10 F7		    BPL ?SAVESIO
   657 2883 4C 59 E4		    JMP $E459   
   658 2886			EXNHPUT
   659 2886 A9 80		    LDA #$80
   660 2888 85 4D		    STA 77
   661 288A 68			    PLA
   662 288B 68			    PLA
   663 288C 68			    PLA
   664 288D 68			    PLA
   665 288E 60			    RTS
   666 288F			SEPAR
   667 288F A0 13			LDY #$13
   668 2891 84 00			STY $00
   669 2893			?SEPAR
   670 2893 B9 83 20			LDA PARCHE,Y
   671 2896 99 15 2A			STA SPARCHE,Y    
   672 2899 88			    DEY
   673 289A 10 F7		    BPL ?SEPAR
   674 289C A2 28		    LDX #$28
   675 289E A0 A7		    LDY #$A7
   676 28A0 A9 07		    LDA #$07
   677 28A2 20 5C E4		    JSR $E45C
   678 28A5			LOOPSEPAR
   679 28A5 D0 FE			BNE LOOPSEPAR
   680 28A7 A4 00			LDY $00
   681 28A9 B9 15 2A			LDA SPARCHE,Y
   682 28AC 49 80			EOR #$80
   683 28AE 99 15 2A			STA SPARCHE,Y
   684 28B1 C6 00			DEC $00
   685 28B3 10 04			BPL ??SEPAR
   686 28B5 A0 13			LDY #$13
   687 28B7 84 00			STY $00
   688 28B9			??SEPAR
   689 28B9 4C 62 E4			JMP $E462
   690 28BC			???SEPAR
   691 28BC 79 15 2A			ADC SPARCHE,Y
   692 28BF 88				DEY
   693 28C0 10 FA			BPL ???SEPAR
   694 28C2 C9 94			CMP #$94
   695 28C4 D0 C9			BNE SEPAR
   696 28C6			NHPUT
   697 28C6 20 78 28		    JSR SAVESIO
   698 28C9 A9 55		    LDA #$55
   699 28CB 8D F1 2A		    STA ??DIR
   700 28CE 8D F2 2A		    STA ??DIR+1
   701 28D1 A9 FC		    LDA #$FC	;$FC
   702 28D3 8D F0 2B		    STA ??DIR+255
   703 28D6 A9 DD			LDA #$DD
   704 28D8 8D 01 D3			STA $D301
   705 28DB A9 40		    LDA # >BAFER
   706 28DD 8D 55 29		    STA GBYTE+7
   707 28E0 A2 00		    LDX #$00
   708 28E2 A0 00		    LDY #$00
   709 28E4 8C E2 02		    STY $02E2
   710 28E7 20 ED 28		    JSR GRABACION
   711 28EA 4C 00 29		    JMP ?MVBF
   712 28ED			GRABACION
   713 28ED AD 48 27		    LDA PFIN
   714 28F0 8D F3 2A		    STA ??DIR+2
   715 28F3 F0 91		    BEQ EXNHPUT
   716 28F5 C9 01		    CMP #$01
   717 28F7 D0 06		    BNE RETURN
   718 28F9 AD 07 20		    LDA CONT+1
   719 28FC 8D F0 2B		    STA ??DIR+255
   720 28FF			RETURN
   721 28FF 60			    RTS
   722 2900			?MVBF
   723 2900 20 4E 29		    JSR GBYTE
   724 2903 8D 08 20		    STA STARTF
   725 2906 20 4E 29		    JSR GBYTE
   726 2909 8D 09 20		    STA STARTF+1
   727 290C 2D 08 20		    AND STARTF
   728 290F C9 FF		    CMP #$FF
   729 2911 F0 ED		    BEQ ?MVBF
   730 2913 20 4E 29		    JSR GBYTE
   731 2916 8D 0A 20		    STA FINISH
   732 2919 20 4E 29		    JSR GBYTE
   733 291C 8D 0B 20		    STA FINISH+1
   734 291F			NHLOP
   735 291F 20 4E 29		    JSR GBYTE
   736 2922 AD 08 20		    LDA STARTF
   737 2925 C9 E3		    CMP #$E3
   738 2927 D0 0A		    BNE ?NHLOP
   739 2929 AD 09 20		    LDA STARTF+1
   740 292C C9 02		    CMP #$02
   741 292E D0 03		    BNE ?NHLOP
   742 2930 8D E2 02		    STA $02E2
   743 2933			?NHLOP
   744 2933 AD 08 20		    LDA STARTF
   745 2936 CD 0A 20		    CMP FINISH
   746 2939 D0 08		    BNE NHCONT
   747 293B AD 09 20		    LDA STARTF+1
   748 293E CD 0B 20		    CMP FINISH+1
   749 2941 F0 BD		    BEQ ?MVBF
   750 2943			NHCONT
   751 2943 EE 08 20		    INC STARTF
   752 2946 D0 03		    BNE NOHI
   753 2948 EE 09 20		    INC STARTF+1
   754 294B			NOHI
   755 294B 4C 1F 29		    JMP NHLOP
   756 294E			GBYTE
   757 294E CC F0 2B			CPY ??DIR+255
   758 2951 F0 29		    BEQ EGRAB
   759 2953 BD 00 40		    LDA BAFER,X
   760 2956 85 44		    STA $44
   761 2958 48			    PHA
   762 2959 98			    TYA
   763 295A			M
   764 295A 45 44		    EOR $44
   765 295C 45 47		    EOR GENDAT
   766 295E 99 F4 2A		    STA ??DIR+3,Y
   767 2961 C8			    INY
   768 2962 E8			    INX
   769 2963 D0 13		    BNE EXNHPIT
   770 2965 EE 55 29		    INC GBYTE+7
   771 2968 10 0E		    BPL EXNHPIT
   772 296A A9 40		    LDA #>BAFER
   773 296C 8D 55 29		    STA GBYTE+7
   774 296F 18			    CLC
   775 2970 AD 01 D3		    LDA $D301
   776 2973 69 04		    ADC #$04
   777 2975 8D 01 D3		    STA $D301
   778 2978			EXNHPIT
   779 2978 68				PLA
   780 2979 E6 47			INC GENDAT
   781 297B 60			    RTS
   782 297C			EGRAB
   783 297C CE 48 27		    DEC PFIN
   784 297F 8A			    TXA
   785 2980 48			    PHA
   786 2981 20 85 27		    JSR INITSIOV
   787 2984 20 59 E4		    JSR $E459
   788 2987 A2 02		    LDX #$02
   789 2989			DECBL01
   790 2989 BD D8 2A		    LDA BLOQUES,X
   791 298C C9 10		    CMP #$10
   792 298E D0 08		    BNE DECBL02
   793 2990 A9 19		    LDA #$19
   794 2992 9D D8 2A		    STA BLOQUES,X
   795 2995 CA			    DEX
   796 2996 10 F1		    BPL DECBL01
   797 2998			DECBL02
   798 2998 DE D8 2A		    DEC BLOQUES,X
   799 299B 68			    PLA
   800 299C AA			    TAX
   801 299D AD E2 02			LDA $02E2
   802 29A0 D0 08		    BNE SLOWB
   803 29A2			SIGUE
   804 29A2 20 ED 28		    JSR GRABACION
   805 29A5 A0 00		    LDY #$00
   806 29A7 4C 4E 29		    JMP GBYTE
   807 29AA			SLOWB
   808 29AA 8A			    TXA
   809 29AB 48			    PHA
   810 29AC A2 5E		    LDX # <350	;$015e
   811 29AE A0 01		    LDY # >350
   812 29B0 8E 1C 02		    STX $021C
   813 29B3 8C 1D 02		    STY $021D
   814 29B6			IRG
   815 29B6 AD 1D 02		    LDA $021D
   816 29B9 D0 FB		    BNE IRG
   817 29BB AD 1C 02		    LDA $021C
   818 29BE D0 F6		    BNE IRG
   819 29C0 A9 00		    LDA #$00
   820 29C2 8D E2 02		    STA $02E2
   821 29C5 68			    PLA
   822 29C6 AA			    TAX
   823 29C7 4C A2 29		    JMP SIGUE
   824 29CA			DLS
   825 29CA 70 70 70 46		    .BYTE $70,$70,$70,$46
   826 29CE 01 2A		    .WORD SHOW
   827 29D0 70 06 70 70 02 02 + 	.BYTE $70,$06,$70,$70,$02,$02,$70,$70
   828 29D8 70 06 70 70 70 02 +     .BYTE $70,$06,$70,$70,$70,$02,$70,$70
   829 29E0 70 70 70 70 70 02 +     .BYTE $70,$70,$70,$70,$70,$02,$41
   830 29E7 CA 29		    .WORD DLS
   831 				; -------------------------
   832 				; DEFINICION DEL DISPLAY
   833 				; PARA DIRECTORIO
   834 				; -------------------------
   835 29E9			?DIR
   836 29E9 70 70 70 70 70 70 +     .BYTE $70,$70,$70,$70,$70,$70,$70,$70
   837 29F1 46			    .BYTE $46
   838 29F2 DD 2A		    .WORD ???DIR
   839 29F4 70 02 02 02 02 02 +     .BYTE $70,$02,$02,$02,$02,$02,$02,$02
   840 29FC 02 02 41		    .BYTE $02,$02,$41
   841 29FF E9 29		    .WORD ?DIR
   842 2A01			SHOW
   843 2A01 00 23 2F 30 29 21 +     .SB " COPIADOR NHP 2.56  "
   844 2A15			SPARCHE
   845 2A15 E2 F9 80 F0 E1 F2 +     .SB +128,"by parche negro soft"
   846 2A29 00 00 00 00 00 00 +     .SB "               12345"
   847 2A3D 16 17 18 19 10 11 +     .SB "678901234567890     "
   848 2A51 AE AF AD A2 B2 A5 +     .SB +128,"NOMBRE PORTADA:"
   849 2A60			CRSR
   850 2A60 3F 00 00 00 00 00 +     .SB "_                   "
   851 2A74 00 00 00 00 00	    .SB "     "
   852 2A79			NAME
   853 2A79 00 00 00 00 00 00 +     .SB "                    "
   854 2A8D A6 A9 AC A5 9A	    .SB +128,"FILE:"
   855 2A92			FILE
   856 2A92 3F 00 00 00 00 00 +     .SB "_                   "
   857 2AA6 00 00 00 00 00 00 +     .SB "               "
   858 2AB5 A2 B9 B4 A5 B3	    .SB +128,"BYTES"
   859 2ABA 80 AC A5 A9 A4 AF +     .SB +128," LEIDOS:"
   860 2AC2 00			    .SB " "
   861 2AC3			BYTES
   862 2AC3 0A 0A 0A 0A 0A 00 +     .SB "*****       "
   863 2ACF A2 AC AF B1 B5 A5 +     .SB +128,"BLOQUES:"
   864 2AD7 00			    .SB " "
   865 2AD8			BLOQUES
   866 2AD8 0A 0A 0A 00 00	    .SB "***  "
   867 2ADD			???DIR
   868 2ADD 00 00 00 00 00 24 +     .SB "     DIRECTORIO     "
   869 2AF1			??DIR
   870 2AF1 00 00 00 00 00 00 + 	.SB "                                        "
   871 2B19 00 00 00 00 00 00 + 	.SB "                                        "
   872 2B41 00 00 00 00 00 00 + 	.SB "                                        "
   873 2B69 00 00 00 00 00 00 + 	.SB "                                        "
   874 2B91 00 00 00 00 00 00 + 	.SB "                                        "
   875 2BB9 00 00 00 00 00 00 + 	.SB "                                        "
   876 2BE1 00 00 00 00 00 00 + 	.SB "                                        "
   877 2C09 00 00 00 00 00 00 + 	.SB "                                        "
   878 2C31 00 00 00 00 00 00 + 	.SB "                                        "
   879 2C59 00 00 00 00 00 00 + 	.SB "                                        "
   880 2C81			CLAVE
   881 2C81 48				PHA
   882 2C82 A0 02			LDY #$02
   883 2C84			??CLAVE
   884 2C84 B9 60 2A			LDA CRSR,Y
   885 2C87 D9 96 2C			CMP ????CLAVE,Y
   886 2C8A D0 08			BNE ???CLAVE
   887 2C8C 88				DEY
   888 2C8D 10 F5			BPL ??CLAVE
   889 2C8F 68				PLA
   890 2C90 68				PLA
   891 2C91 6C 0A 00			JMP ($0A)
   892 2C94			???CLAVE
   893 2C94 68				PLA
   894 2C95 60				RTS
   895 2C96			????CLAVE
   896 2C96 24 2F 33			.BY $24,$2F,$33
   897 2C99			DOS
   898 2C99 6C 0C 00		    JMP ($0C)
   899 2C9C			@START
   900 2C9C 20 99 2C			JSR DOS
   901 2C9F			START
   902 2C9F A2 CA		    LDX # <DLS
   903 2CA1 A0 29		    LDY # >DLS
   904 2CA3 8E 30 02		    STX $0230
   905 2CA6 8C 31 02		    STY $0231
   906 2CA9 A9 CA		    LDA #$CA
   907 2CAB 8D C5 02		    STA $02C5
   908 2CAE A9 00		    LDA #$00
   909 2CB0 8D C6 02		    STA $02C6
   910 2CB3 20 41 20		    JSR RESTORE
   911 2CB6 A2 60		    LDX # <CRSR
   912 2CB8 A0 2A		    LDY # >CRSR
   913 2CBA 86 CB		    STX PCRSR
   914 2CBC 84 CC		    STY PCRSR+1
   915 2CBE 20 EC 21		    JSR RUTLEE
   916 2CC1 98			    TYA
   917 2CC2 F0 22		    BEQ NOTITLE
   918 2CC4 20 81 2C		    JSR CLAVE
   919 2CC7 4A			    LSR 
   920 2CC8 8D 03 20		    STA RY+1
   921 2CCB A9 0A		    LDA #$0A
   922 2CCD 38			    SEC
   923 2CCE ED 03 20		    SBC RY+1
   924 2CD1 8D 03 20		    STA RY+1
   925 2CD4 A2 00		    LDX #$00
   926 2CD6 AC 03 20		    LDY RY+1
   927 2CD9			WRITE
   928 2CD9 BD 60 2A		    LDA CRSR,X
   929 2CDC 99 79 2A		    STA NAME,Y
   930 2CDF C8			    INY
   931 2CE0 E8			    INX
   932 2CE1 EC 02 20		    CPX RY
   933 2CE4 D0 F3		    BNE WRITE
   934 2CE6			NOTITLE
   935 2CE6 A2 92		    LDX # <FILE
   936 2CE8 A0 2A		    LDY # >FILE
   937 2CEA 86 CB		    STX PCRSR
   938 2CEC 84 CC		    STY PCRSR+1
   939 2CEE 20 EC 21		    JSR RUTLEE
   940 2CF1 A0 13		    LDY #19
   941 2CF3			CONV
   942 2CF3 B9 92 2A		    LDA FILE,Y
   943 2CF6 F0 14		    BEQ ?REMAIN
   944 2CF8 29 7F		    AND #$7F
   945 2CFA C9 40		    CMP #64
   946 2CFC 90 06		    BCC ADD32
   947 2CFE C9 60		    CMP #96
   948 2D00 90 07		    BCC SUB64
   949 2D02 B0 08		    BCS ?REMAIN
   950 2D04			ADD32
   951 2D04 18			    CLC
   952 2D05 69 20		    ADC #32
   953 2D07 90 05		    BCC OKLET
   954 2D09			SUB64
   955 2D09 38			    SEC
   956 2D0A E9 40		    SBC #64
   957 2D0C			?REMAIN
   958 2D0C A9 9B		    LDA #$9B
   959 2D0E			OKLET
   960 2D0E 99 0F 20		    STA ??FILE,Y
   961 2D11 88			    DEY
   962 2D12 10 DF		    BPL CONV
   963 2D14 20 D5 20		    JSR OPEN
   964 2D17 20 3D 22		    JSR FGET
   965 2D1A 20 F7 20		    JSR CLOSE
   966 2D1D 20 6E 27		    JSR PONDATA
   967 2D20 20 44 28		    JSR REST
   968 2D23			OTRACOPIA
   969 2D23 20 5B 28		    JSR ?REST
   970 2D26 20 55 27		    JSR OPENC
   971 2D29 20 04 28		    JSR GAUTO
   972 2D2C A0 27		    LDY #$27
   973 2D2E A9 00		    LDA #$00
   974 2D30 18			    CLC
   975 2D31 20 BC 28		    JSR ???SEPAR
   976 2D34 A2 3C		    LDX #$3C
   977 2D36 A9 03		    LDA #$03
   978 2D38 8D 0F D2		    STA $D20F
   979 2D3B 8E 02 D3		    STX $D302
   980 2D3E			WAIT
   981 2D3E AD 1F D0		    LDA 53279
   982 2D41 C9 07		    CMP #$07
   983 2D43 F0 F9		    BEQ WAIT
   984 2D45 C9 06		    CMP #$06
   985 2D47 F0 DA		    BEQ OTRACOPIA
   986 2D49 C9 03		    CMP #$03
   987 2D4B D0 F1		    BNE WAIT
   988 2D4D 4C 9F 2C		    JMP START
   989 2D50			PIRATAS
   990 2D50 20 F7 20		    JSR CLOSE
   991 2D53 A2 BF		    LDX # <OPENK
   992 2D55 A0 21		    LDY # >OPENK
   993 2D57 EA			    NOP
   994 2D58 EA			    NOP
   995 2D59 EA			    NOP
   996 2D5A 20 F7 20		    JSR CLOSE
   997 2D5D A2 9C		    LDX # <@START
   998 2D5F A0 2C		    LDY # >@START
   999 2D61 A9 03		    LDA #$03
  1000 2D63 86 02		    STX $02
  1001 2D65 84 03		    STY $03
  1002 2D67 85 09		    STA $09
  1003 2D69 A0 FF		    LDY #$FF
  1004 2D6B 84 08		    STY $08
  1005 2D6D C8			    INY   
  1006 2D6E 8C 44 02		    STY $0244
  1007 2D71 4C 9F 2C			JMP START
  1008 02E0-02E1> 50 2D			RUN PIRATAS
